{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/Personal/Lamaran/Foom%20Lab%20Global/foom_lab_global_technical_test_final/frontend/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const api = {\r\n  getProducts: async (params?: {\r\n    page?: number;\r\n    limit?: number;\r\n    search?: string;\r\n  }) => {\r\n    const response = await apiClient.get(\"/products\", { params });\r\n    return response.data;\r\n  },\r\n\r\n  getStocks: async (\r\n    page = 1,\r\n    limit = 10,\r\n    search = \"\",\r\n    sortBy = \"\",\r\n    order = \"\",\r\n    warehouse_id = \"\"\r\n  ) => {\r\n    const response = await apiClient.get(\"/stocks\", {\r\n      params: { page, limit, search, sortBy, order, warehouse_id },\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  getPurchaseRequests: async () => {\r\n    const response = await apiClient.get(\"/purchase/request\");\r\n    return response.data;\r\n  },\r\n\r\n  getPurchaseRequest: async (id: number | string) => {\r\n    const response = await apiClient.get(`/purchase/request/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  createPurchaseRequest: async (data: {\r\n    reference?: string;\r\n    warehouse_id: number;\r\n    items: Array<{ product_id: number; quantity: number }>;\r\n  }) => {\r\n    const response = await apiClient.post(\"/purchase/request\", data);\r\n    return response.data;\r\n  },\r\n\r\n  updatePurchaseRequest: async (\r\n    id: number,\r\n    data: {\r\n      status?: string;\r\n      items?: Array<{ product_id: number; quantity: number }>;\r\n    }\r\n  ) => {\r\n    const response = await apiClient.put(`/purchase/request/${id}`, data);\r\n    return response.data;\r\n  },\r\n\r\n  deletePurchaseRequest: async (id: number) => {\r\n    const response = await apiClient.delete(`/purchase/request/${id}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default apiClient;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,eAAe,6DAAmC;AAExD,MAAM,YAAY,gJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,MAAM;IACjB,aAAa,OAAO;QAKlB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,aAAa;YAAE;QAAO;QAC3D,OAAO,SAAS,IAAI;IACtB;IAEA,WAAW,OACT,OAAO,CAAC,EACR,QAAQ,EAAE,EACV,SAAS,EAAE,EACX,SAAS,EAAE,EACX,QAAQ,EAAE,EACV,eAAe,EAAE;QAEjB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,WAAW;YAC9C,QAAQ;gBAAE;gBAAM;gBAAO;gBAAQ;gBAAQ;gBAAO;YAAa;QAC7D;QACA,OAAO,SAAS,IAAI;IACtB;IAEA,qBAAqB;QACnB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC;QACrC,OAAO,SAAS,IAAI;IACtB;IAEA,oBAAoB,OAAO;QACzB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI;QAC9D,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB,OAAO;QAK5B,MAAM,WAAW,MAAM,UAAU,IAAI,CAAC,qBAAqB;QAC3D,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB,OACrB,IACA;QAKA,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI,EAAE;QAChE,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB,OAAO;QAC5B,MAAM,WAAW,MAAM,UAAU,MAAM,CAAC,CAAC,kBAAkB,EAAE,IAAI;QACjE,OAAO,SAAS,IAAI;IACtB;AACF;uCAEe"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///E:/Personal/Lamaran/Foom%20Lab%20Global/foom_lab_global_technical_test_final/frontend/app/purchase-requests/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Chip,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  CircularProgress,\r\n  Alert,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport { ArrowBack as ArrowBackIcon } from \"@mui/icons-material\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { api } from \"@/lib/api\";\r\nimport { PurchaseRequest } from \"@/types\";\r\n\r\nexport default function PurchaseRequestDetailsPage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const id = params.id as string;\r\n\r\n  const [pr, setPr] = useState<PurchaseRequest | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchPurchaseRequest();\r\n  }, []);\r\n\r\n  const fetchPurchaseRequest = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response: any = await api.getPurchaseRequest(id);\r\n\r\n      if (response.status === \"success\" && response.data) {\r\n        setPr(response.data);\r\n      }\r\n    } catch (err: any) {\r\n      setError(\r\n        err.response?.data?.message ||\r\n          \"Failed to fetch purchase request details\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"DRAFT\":\r\n        return \"default\";\r\n      case \"PENDING\":\r\n        return \"warning\";\r\n      case \"COMPLETED\":\r\n        return \"success\";\r\n      case \"REJECTED\":\r\n        return \"error\";\r\n      default:\r\n        return \"default\";\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", p: 8 }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error || !pr) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n        <Alert severity=\"error\">{error || \"Purchase Request not found\"}</Alert>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => router.back()}\r\n          sx={{ mt: 2 }}\r\n        >\r\n          Back to List\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 8 }}>\r\n      <Button\r\n        startIcon={<ArrowBackIcon />}\r\n        onClick={() => router.back()}\r\n        sx={{ mb: 2 }}\r\n      >\r\n        Back to List\r\n      </Button>\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          mb: 4,\r\n        }}\r\n      >\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\">\r\n            {pr.reference}\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Created on {new Date(pr.createdAt).toLocaleDateString()}\r\n          </Typography>\r\n        </Box>\r\n        <Chip\r\n          label={pr.status}\r\n          color={getStatusColor(pr.status)}\r\n          sx={{ fontWeight: \"bold\", fontSize: \"1rem\", px: 2, py: 2.5 }}\r\n        />\r\n      </Box>\r\n\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid size={{ xs: 12, md: 6 }}>\r\n          <Card elevation={0} variant=\"outlined\">\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"bold\">\r\n                Warehouse Details\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Name:</strong> {pr.Warehouse?.name || \"N/A\"}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid size={{ xs: 12, md: 6 }}>\r\n          <Card elevation={0} variant=\"outlined\">\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"bold\">\r\n                Vendor Information\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Name:</strong> {pr.vendor || \"PT FOOM LAB GLOBAL\"}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Typography variant=\"h5\" gutterBottom fontWeight=\"bold\" sx={{ mb: 2 }}>\r\n        Items\r\n      </Typography>\r\n      <TableContainer component={Paper} variant=\"outlined\">\r\n        <Table>\r\n          <TableHead sx={{ bgcolor: \"grey.50\" }}>\r\n            <TableRow>\r\n              <TableCell>\r\n                <strong>Product Name</strong>\r\n              </TableCell>\r\n              <TableCell>\r\n                <strong>SKU</strong>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <strong>Quantity</strong>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {pr.PurchaseRequestItems?.map((item: any) => (\r\n              <TableRow key={item.id} hover>\r\n                <TableCell>{item.Product?.name || \"Unknown Product\"}</TableCell>\r\n                <TableCell>{item.Product?.sku || \"-\"}</TableCell>\r\n                <TableCell align=\"right\" sx={{ fontWeight: \"bold\" }}>\r\n                  {item.quantity}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n            {(!pr.PurchaseRequestItems ||\r\n              pr.PurchaseRequestItems.length === 0) && (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={3}\r\n                  align=\"center\"\r\n                  sx={{ py: 4, color: \"text.secondary\" }}\r\n                >\r\n                  No items found in this request\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}