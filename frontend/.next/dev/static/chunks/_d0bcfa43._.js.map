{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Personal/Lamaran/Foom%20Lab%20Global/foom_lab_global_technical_test_final/frontend/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const api = {\r\n  getProducts: async (params?: {\r\n    page?: number;\r\n    limit?: number;\r\n    search?: string;\r\n  }) => {\r\n    const response = await apiClient.get(\"/products\", { params });\r\n    return response.data;\r\n  },\r\n\r\n  getStocks: async (\r\n    page = 1,\r\n    limit = 10,\r\n    search = \"\",\r\n    sortBy = \"\",\r\n    order = \"\",\r\n    warehouse_id = \"\"\r\n  ) => {\r\n    const response = await apiClient.get(\"/stocks\", {\r\n      params: { page, limit, search, sortBy, order, warehouse_id },\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  getPurchaseRequests: async () => {\r\n    const response = await apiClient.get(\"/purchase/request\");\r\n    return response.data;\r\n  },\r\n\r\n  getPurchaseRequest: async (id: number | string) => {\r\n    const response = await apiClient.get(`/purchase/request/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  createPurchaseRequest: async (data: {\r\n    reference?: string;\r\n    warehouse_id: number;\r\n    items: Array<{ product_id: number; quantity: number }>;\r\n  }) => {\r\n    const response = await apiClient.post(\"/purchase/request\", data);\r\n    return response.data;\r\n  },\r\n\r\n  updatePurchaseRequest: async (\r\n    id: number,\r\n    data: {\r\n      status?: string;\r\n      items?: Array<{ product_id: number; quantity: number }>;\r\n    }\r\n  ) => {\r\n    const response = await apiClient.put(`/purchase/request/${id}`, data);\r\n    return response.data;\r\n  },\r\n\r\n  deletePurchaseRequest: async (id: number) => {\r\n    const response = await apiClient.delete(`/purchase/request/${id}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default apiClient;\r\n"],"names":[],"mappings":";;;;;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,6DAAmC;AAExD,MAAM,YAAY,mJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,MAAM;IACjB,aAAa,OAAO;QAKlB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,aAAa;YAAE;QAAO;QAC3D,OAAO,SAAS,IAAI;IACtB;IAEA,WAAW,OACT,OAAO,CAAC,EACR,QAAQ,EAAE,EACV,SAAS,EAAE,EACX,SAAS,EAAE,EACX,QAAQ,EAAE,EACV,eAAe,EAAE;QAEjB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,WAAW;YAC9C,QAAQ;gBAAE;gBAAM;gBAAO;gBAAQ;gBAAQ;gBAAO;YAAa;QAC7D;QACA,OAAO,SAAS,IAAI;IACtB;IAEA,qBAAqB;QACnB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC;QACrC,OAAO,SAAS,IAAI;IACtB;IAEA,oBAAoB,OAAO;QACzB,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI;QAC9D,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB,OAAO;QAK5B,MAAM,WAAW,MAAM,UAAU,IAAI,CAAC,qBAAqB;QAC3D,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB,OACrB,IACA;QAKA,MAAM,WAAW,MAAM,UAAU,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI,EAAE;QAChE,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB,OAAO;QAC5B,MAAM,WAAW,MAAM,UAAU,MAAM,CAAC,CAAC,kBAAkB,EAAE,IAAI;QACjE,OAAO,SAAS,IAAI;IACtB;AACF;uCAEe"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///E:/Personal/Lamaran/Foom%20Lab%20Global/foom_lab_global_technical_test_final/frontend/app/purchase-requests/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Chip,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  CircularProgress,\r\n  Alert,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport { ArrowBack as ArrowBackIcon } from \"@mui/icons-material\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { api } from \"@/lib/api\";\r\nimport { PurchaseRequest, ApiResponse } from \"@/types\";\r\n\r\nexport default function PurchaseRequestDetailsPage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const id = params.id as string;\r\n\r\n  const [pr, setPr] = useState<PurchaseRequest | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPurchaseRequest = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = (await api.getPurchaseRequest(\r\n          id\r\n        )) as ApiResponse<PurchaseRequest>;\r\n\r\n        if (response.status === \"success\" && response.data) {\r\n          setPr(response.data);\r\n        }\r\n      } catch (err: unknown) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const error = err as any;\r\n        setError(\r\n          error.response?.data?.message ||\r\n            \"Failed to fetch purchase request details\"\r\n        );\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPurchaseRequest();\r\n  }, [id]);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"DRAFT\":\r\n        return \"default\";\r\n      case \"PENDING\":\r\n        return \"warning\";\r\n      case \"COMPLETED\":\r\n        return \"success\";\r\n      case \"REJECTED\":\r\n        return \"error\";\r\n      default:\r\n        return \"default\";\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", p: 8 }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error || !pr) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n        <Alert severity=\"error\">{error || \"Purchase Request not found\"}</Alert>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => router.back()}\r\n          sx={{ mt: 2 }}\r\n        >\r\n          Back to List\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 8 }}>\r\n      <Button\r\n        startIcon={<ArrowBackIcon />}\r\n        onClick={() => router.back()}\r\n        sx={{ mb: 2 }}\r\n      >\r\n        Back to List\r\n      </Button>\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          mb: 4,\r\n        }}\r\n      >\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\">\r\n            {pr.reference}\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Created on {new Date(pr.createdAt).toLocaleDateString()}\r\n          </Typography>\r\n        </Box>\r\n        <Chip\r\n          label={pr.status}\r\n          color={getStatusColor(pr.status)}\r\n          sx={{ fontWeight: \"bold\", fontSize: \"1rem\", px: 2, py: 2.5 }}\r\n        />\r\n      </Box>\r\n\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid size={{ xs: 12, md: 6 }}>\r\n          <Card elevation={0} variant=\"outlined\">\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"bold\">\r\n                Warehouse Details\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Name:</strong> {pr.Warehouse?.name || \"N/A\"}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid size={{ xs: 12, md: 6 }}>\r\n          <Card elevation={0} variant=\"outlined\">\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"bold\">\r\n                Vendor Information\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Name:</strong> {pr.vendor || \"PT FOOM LAB GLOBAL\"}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Typography variant=\"h5\" gutterBottom fontWeight=\"bold\" sx={{ mb: 2 }}>\r\n        Items\r\n      </Typography>\r\n      <TableContainer component={Paper} variant=\"outlined\">\r\n        <Table>\r\n          <TableHead sx={{ bgcolor: \"grey.50\" }}>\r\n            <TableRow>\r\n              <TableCell>\r\n                <strong>Product Name</strong>\r\n              </TableCell>\r\n              <TableCell>\r\n                <strong>SKU</strong>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <strong>Quantity</strong>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {pr.PurchaseRequestItems?.map((item) => (\r\n              <TableRow key={item.id} hover>\r\n                <TableCell>{item.Product?.name || \"Unknown Product\"}</TableCell>\r\n                <TableCell>{item.Product?.sku || \"-\"}</TableCell>\r\n                <TableCell align=\"right\" sx={{ fontWeight: \"bold\" }}>\r\n                  {item.quantity}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n            {(!pr.PurchaseRequestItems ||\r\n              pr.PurchaseRequestItems.length === 0) && (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={3}\r\n                  align=\"center\"\r\n                  sx={{ py: 4, color: \"text.secondary\" }}\r\n                >\r\n                  No items found in this request\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AACA;AACA;;;AAzBA;;;;;;AA4Be,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,KAAK,OAAO,EAAE;IAEpB,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,yKAAQ,EAAyB;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;gDAAC;YACR,MAAM;6EAAuB;oBAC3B,IAAI;wBACF,WAAW;wBACX,MAAM,WAAY,MAAM,oHAAG,CAAC,kBAAkB,CAC5C;wBAGF,IAAI,SAAS,MAAM,KAAK,aAAa,SAAS,IAAI,EAAE;4BAClD,MAAM,SAAS,IAAI;wBACrB;oBACF,EAAE,OAAO,KAAc;wBACrB,8DAA8D;wBAC9D,MAAM,QAAQ;wBACd,SACE,MAAM,QAAQ,EAAE,MAAM,WACpB;oBAEN,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;+CAAG;QAAC;KAAG;IAEP,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC,kMAAG;YAAC,IAAI;gBAAE,SAAS;gBAAQ,gBAAgB;gBAAU,GAAG;YAAE;sBACzD,cAAA,6LAAC,sPAAgB;;;;;;;;;;IAGvB;IAEA,IAAI,SAAS,CAAC,IAAI;QAChB,qBACE,6LAAC,0NAAS;YAAC,UAAS;YAAK,IAAI;gBAAE,IAAI;YAAE;;8BACnC,6LAAC,0MAAK;oBAAC,UAAS;8BAAS,SAAS;;;;;;8BAClC,6LAAC,8MAAM;oBACL,yBAAW,6LAAC,4KAAa;;;;;oBACzB,SAAS,IAAM,OAAO,IAAI;oBAC1B,IAAI;wBAAE,IAAI;oBAAE;8BACb;;;;;;;;;;;;IAKP;IAEA,qBACE,6LAAC,0NAAS;QAAC,UAAS;QAAK,IAAI;YAAE,IAAI;YAAG,IAAI;QAAE;;0BAC1C,6LAAC,8MAAM;gBACL,yBAAW,6LAAC,4KAAa;;;;;gBACzB,SAAS,IAAM,OAAO,IAAI;gBAC1B,IAAI;oBAAE,IAAI;gBAAE;0BACb;;;;;;0BAID,6LAAC,kMAAG;gBACF,IAAI;oBACF,SAAS;oBACT,gBAAgB;oBAChB,YAAY;oBACZ,IAAI;gBACN;;kCAEA,6LAAC,kMAAG;;0CACF,6LAAC,8NAAU;gCAAC,SAAQ;gCAAK,WAAU;gCAAK,YAAW;0CAChD,GAAG,SAAS;;;;;;0CAEf,6LAAC,8NAAU;gCAAC,SAAQ;gCAAQ,OAAM;;oCAAiB;oCACrC,IAAI,KAAK,GAAG,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;kCAGzD,6LAAC,sMAAI;wBACH,OAAO,GAAG,MAAM;wBAChB,OAAO,eAAe,GAAG,MAAM;wBAC/B,IAAI;4BAAE,YAAY;4BAAQ,UAAU;4BAAQ,IAAI;4BAAG,IAAI;wBAAI;;;;;;;;;;;;0BAI/D,6LAAC,sMAAI;gBAAC,SAAS;gBAAC,SAAS;gBAAG,IAAI;oBAAE,IAAI;gBAAE;;kCACtC,6LAAC,sMAAI;wBAAC,MAAM;4BAAE,IAAI;4BAAI,IAAI;wBAAE;kCAC1B,cAAA,6LAAC,sMAAI;4BAAC,WAAW;4BAAG,SAAQ;sCAC1B,cAAA,6LAAC,kOAAW;;kDACV,6LAAC,8NAAU;wCAAC,SAAQ;wCAAK,YAAY;wCAAC,YAAW;kDAAO;;;;;;kDAGxD,6LAAC,kNAAO;wCAAC,IAAI;4CAAE,IAAI;wCAAE;;;;;;kDACrB,6LAAC,8NAAU;wCAAC,SAAQ;;0DAClB,6LAAC;0DAAO;;;;;;4CAAc;4CAAE,GAAG,SAAS,EAAE,QAAQ;;;;;;;;;;;;;;;;;;;;;;;kCAKtD,6LAAC,sMAAI;wBAAC,MAAM;4BAAE,IAAI;4BAAI,IAAI;wBAAE;kCAC1B,cAAA,6LAAC,sMAAI;4BAAC,WAAW;4BAAG,SAAQ;sCAC1B,cAAA,6LAAC,kOAAW;;kDACV,6LAAC,8NAAU;wCAAC,SAAQ;wCAAK,YAAY;wCAAC,YAAW;kDAAO;;;;;;kDAGxD,6LAAC,kNAAO;wCAAC,IAAI;4CAAE,IAAI;wCAAE;;;;;;kDACrB,6LAAC,8NAAU;wCAAC,SAAQ;;0DAClB,6LAAC;0DAAO;;;;;;4CAAc;4CAAE,GAAG,MAAM,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO/C,6LAAC,8NAAU;gBAAC,SAAQ;gBAAK,YAAY;gBAAC,YAAW;gBAAO,IAAI;oBAAE,IAAI;gBAAE;0BAAG;;;;;;0BAGvE,6LAAC,8OAAc;gBAAC,WAAW,0MAAK;gBAAE,SAAQ;0BACxC,cAAA,6LAAC,0MAAK;;sCACJ,6LAAC,0NAAS;4BAAC,IAAI;gCAAE,SAAS;4BAAU;sCAClC,cAAA,6LAAC,sNAAQ;;kDACP,6LAAC,0NAAS;kDACR,cAAA,6LAAC;sDAAO;;;;;;;;;;;kDAEV,6LAAC,0NAAS;kDACR,cAAA,6LAAC;sDAAO;;;;;;;;;;;kDAEV,6LAAC,0NAAS;wCAAC,OAAM;kDACf,cAAA,6LAAC;sDAAO;;;;;;;;;;;;;;;;;;;;;;sCAId,6LAAC,0NAAS;;gCACP,GAAG,oBAAoB,EAAE,IAAI,CAAC,qBAC7B,6LAAC,sNAAQ;wCAAe,KAAK;;0DAC3B,6LAAC,0NAAS;0DAAE,KAAK,OAAO,EAAE,QAAQ;;;;;;0DAClC,6LAAC,0NAAS;0DAAE,KAAK,OAAO,EAAE,OAAO;;;;;;0DACjC,6LAAC,0NAAS;gDAAC,OAAM;gDAAQ,IAAI;oDAAE,YAAY;gDAAO;0DAC/C,KAAK,QAAQ;;;;;;;uCAJH,KAAK,EAAE;;;;;gCAQvB,CAAC,CAAC,GAAG,oBAAoB,IACxB,GAAG,oBAAoB,CAAC,MAAM,KAAK,CAAC,mBACpC,6LAAC,sNAAQ;8CACP,cAAA,6LAAC,0NAAS;wCACR,SAAS;wCACT,OAAM;wCACN,IAAI;4CAAE,IAAI;4CAAG,OAAO;wCAAiB;kDACtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB;GApLwB;;QACP,kJAAS;QACT,kJAAS;;;KAFF"}}]
}