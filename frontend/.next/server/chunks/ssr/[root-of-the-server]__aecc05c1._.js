module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},26233,a=>{"use strict";var b=a.i(72131),c=a.i(98621),d=a.i(36472),e=a.i(52506),f=a.i(74443),g=a.i(25054),h=a.i(33115),i=a.i(84275),j=a.i(26893),k=a.i(18843),l=a.i(7049),m=a.i(14912),m=m,n=a.i(76807),n=n,o=a.i(27459),o=o,p=a.i(68604),q=a.i(29297);function r(a){return(0,q.default)("MuiMenuItem",a)}let s=(0,p.default)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var t=a.i(87924);let u=(0,f.styled)(j.default,{shouldForwardProp:a=>(0,e.default)(a)||"classes"===a,name:"MuiMenuItem",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.dense&&b.dense,c.divider&&b.divider,!c.disableGutters&&b.gutters]}})((0,g.default)(({theme:a})=>({...a.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${s.selected}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity),[`&.${s.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.focusOpacity}`)}},[`&.${s.selected}:hover`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity)}},[`&.${s.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${s.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity},[`& + .${m.default.root}`]:{marginTop:a.spacing(1),marginBottom:a.spacing(1)},[`& + .${m.default.inset}`]:{marginLeft:52},[`& .${o.default.root}`]:{marginTop:0,marginBottom:0},[`& .${o.default.inset}`]:{paddingLeft:36},[`& .${n.default.root}`]:{minWidth:36},variants:[{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:a})=>!a.dense,style:{[a.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:a})=>a.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...a.typography.body2,[`& .${n.default.root} svg`]:{fontSize:"1.25rem"}}}]}))),v=b.forwardRef(function(a,e){let f,g=(0,h.useDefaultProps)({props:a,name:"MuiMenuItem"}),{autoFocus:j=!1,component:m="li",dense:n=!1,divider:o=!1,disableGutters:p=!1,focusVisibleClassName:q,role:s="menuitem",tabIndex:v,className:w,...x}=g,y=b.useContext(i.default),z=b.useMemo(()=>({dense:n||y.dense||!1,disableGutters:p}),[y.dense,n,p]),A=b.useRef(null);(0,k.default)(()=>{j&&A.current&&A.current.focus()},[j]);let B={...g,dense:z.dense,divider:o,disableGutters:p},C=(a=>{let{disabled:b,dense:c,divider:e,disableGutters:f,selected:g,classes:h}=a,i=(0,d.default)({root:["root",c&&"dense",b&&"disabled",!f&&"gutters",e&&"divider",g&&"selected"]},r,h);return{...h,...i}})(g),D=(0,l.default)(A,e);return g.disabled||(f=void 0!==v?v:-1),(0,t.jsx)(i.default.Provider,{value:z,children:(0,t.jsx)(u,{ref:D,role:s,tabIndex:f,component:m,focusVisibleClassName:(0,c.default)(C.focusVisible,q),className:(0,c.default)(C.root,w),...x,ownerState:B,classes:C})})});a.s(["default",0,v],26233)},90245,49081,a=>{"use strict";var b=a.i(69464),c=a.i(87924);let d=(0,b.default)((0,c.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");a.s(["default",0,d],90245);let e=(0,b.default)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");a.s(["default",0,e],49081)},7092,12218,80661,9846,3608,a=>{"use strict";var b=a.i(16941);a.s(["Select",()=>b.default],7092);var c=a.i(26233);a.s(["MenuItem",()=>c.default],12218);var d=a.i(41484);a.s(["FormControl",()=>d.default],80661);var e=a.i(75168);a.s(["InputLabel",()=>e.default],9846);var f=a.i(69464),g=a.i(87924);let h=(0,f.default)((0,g.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");a.s(["default",0,h],3608)},55594,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(4439),e=a.i(19470),f=a.i(24089),g=a.i(77940),h=a.i(10446),i=a.i(7092),j=a.i(12218),k=a.i(80661),l=a.i(9846),m=a.i(15937),n=a.i(66824),o=a.i(74288),p=a.i(74908),q=a.i(28388),r=a.i(90245),s=a.i(49081),t=a.i(73188),u=a.i(3608),v=a.i(50944),w=a.i(53250);function x(){let a=(0,v.useRouter)(),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)([{product_id:"",quantity:1}]);(0,c.useEffect)(()=>{N()},[]);let N=async()=>{try{C(!0);let[a]=await Promise.all([w.api.getProducts({limit:100})]);"success"===a.status&&a.data&&A(a.data),y([{id:1,name:"Central Warehouse Jakarta"},{id:2,name:"Branch Warehouse Surabaya"},{id:3,name:"Branch Warehouse Bandung"}])}catch{G("Failed to load form data")}finally{C(!1)}},O=(a,b,c)=>{let d=[...L];d[a]={...d[a],[b]:c},M(d)},P=async b=>{if(b.preventDefault(),G(""),I(!1),!J)return void G("Please select a warehouse");let c=L.filter(a=>a.product_id&&a.quantity>0);if(0===c.length)return void G("Please add at least one item with valid product and quantity");try{E(!0);let b={warehouse_id:parseInt(J),items:c.map(a=>({product_id:parseInt(a.product_id),quantity:a.quantity}))};await w.api.createPurchaseRequest(b),I(!0),setTimeout(()=>{a.push("/purchase-requests")},1500)}catch(a){G(a.response?.data?.message||"Failed to create purchase request")}finally{E(!1)}};return B?(0,b.jsx)(d.Container,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,b.jsx)(f.Box,{sx:{display:"flex",justifyContent:"center",p:8},children:(0,b.jsx)(o.CircularProgress,{})})}):(0,b.jsxs)(d.Container,{maxWidth:"md",sx:{mt:4,mb:8},children:[(0,b.jsx)(g.Button,{startIcon:(0,b.jsx)(t.default,{}),onClick:()=>a.back(),sx:{mb:2},children:"Back to List"}),(0,b.jsx)(e.Typography,{variant:"h4",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"Create Purchase Request"}),(0,b.jsx)(e.Typography,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Fill in the details below to create a new purchase request"}),F&&(0,b.jsx)(n.Alert,{severity:"error",sx:{mb:3},children:F}),H&&(0,b.jsx)(n.Alert,{severity:"success",sx:{mb:3},children:"Purchase Request created successfully! Redirecting..."}),(0,b.jsxs)("form",{onSubmit:P,children:[(0,b.jsx)(p.Card,{sx:{mb:4,overflow:"visible"},children:(0,b.jsxs)(q.CardContent,{sx:{p:3},children:[(0,b.jsx)(e.Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",sx:{mb:3},children:"Warehouse Details"}),(0,b.jsxs)(k.FormControl,{fullWidth:!0,children:[(0,b.jsx)(l.InputLabel,{children:"Select Warehouse"}),(0,b.jsx)(i.Select,{value:J,label:"Select Warehouse",onChange:a=>K(a.target.value),required:!0,children:x.map(a=>(0,b.jsx)(j.MenuItem,{value:a.id,children:a.name},a.id))})]})]})}),(0,b.jsx)(p.Card,{sx:{mb:4,overflow:"visible"},children:(0,b.jsxs)(q.CardContent,{sx:{p:3},children:[(0,b.jsxs)(f.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,b.jsx)(e.Typography,{variant:"h6",fontWeight:"bold",children:"Items"}),(0,b.jsx)(g.Button,{startIcon:(0,b.jsx)(r.default,{}),onClick:()=>{M([...L,{product_id:"",quantity:1}])},variant:"outlined",size:"small",children:"Add Item"})]}),L.map((a,c)=>(0,b.jsx)(f.Box,{children:(0,b.jsxs)(f.Box,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"},alignItems:{sm:"flex-start"},bgcolor:"grey.50",p:2,borderRadius:1,mb:2},children:[(0,b.jsx)(f.Box,{sx:{flexGrow:1},children:(0,b.jsxs)(k.FormControl,{fullWidth:!0,size:"small",children:[(0,b.jsx)(l.InputLabel,{children:"Product"}),(0,b.jsx)(i.Select,{value:a.product_id,label:"Product",onChange:a=>O(c,"product_id",a.target.value),required:!0,children:z.map(a=>(0,b.jsxs)(j.MenuItem,{value:a.id,children:[a.name," (",a.sku,")"]},a.id))})]})}),(0,b.jsx)(f.Box,{sx:{width:{xs:"100%",sm:"120px"}},children:(0,b.jsx)(h.TextField,{fullWidth:!0,size:"small",type:"number",label:"Qty",value:a.quantity,onChange:a=>O(c,"quantity",parseInt(a.target.value)||0),inputProps:{min:1},required:!0})}),(0,b.jsx)(f.Box,{sx:{pt:.5},children:(0,b.jsx)(m.IconButton,{color:"error",onClick:()=>{L.length>1&&M(L.filter((a,b)=>b!==c))},disabled:1===L.length,size:"small",children:(0,b.jsx)(s.default,{})})})]})},c))]})}),(0,b.jsxs)(f.Box,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[(0,b.jsx)(g.Button,{variant:"outlined",size:"large",onClick:()=>a.back(),disabled:D,children:"Cancel"}),(0,b.jsx)(g.Button,{type:"submit",variant:"contained",size:"large",disabled:D,startIcon:(0,b.jsx)(u.default,{}),children:D?"Creating...":"Create Request"})]})]})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__aecc05c1._.js.map